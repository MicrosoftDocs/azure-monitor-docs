---
title: Metrics in Application Insights - Azure Monitor | Microsoft Docs
description: This article explains the difference between log-based and standard/preaggregated metrics in Application Insights.
ms.topic: conceptual
ms.date: 09/06/2024
ms.reviewer: vitalyg
---

# Metrics in Application Insights

Application Insights supports three different types of metrics: standard (preaggregated), log-based, and custom metrics. Each one brings a unique value in monitoring application health, diagnostics, and analytics. Developers who are instrumenting applications can decide which type of metric is best suited to a particular scenario. Decisions are based on the size of the application, expected volume of telemetry, and business requirements for metrics precision and alerting. This article explains the difference between all supported metrics types.

* **[Standard metrics](standard-metrics.md):** Standard metrics in Application Insights are predefined metrics that are automatically collected and monitored by the service. These metrics cover a wide range of performance and usage indicators, such as CPU usage, memory consumption, request rates, and response times. Standard metrics provide a comprehensive overview of your application's health and performance without requiring any additional configuration. Standard metrics are preaggregated during collection, which gives them better performance at query time. This makes them the best choice for dashboards and real-time alerting.

* **[Log-based metrics](../essentials/app-insights-metrics.md):** 

Log-based metrics in Application Insights are a query-time concept, represented as a time-series on top of log data from your application. This means that data is not pre-aggregated and instead stored in its raw form, which allows for more flexible and dynamic analysis. You can define and refine your queries to extract the specific insights you need without being limited by predefined metrics or aggregations. However, for applications generating large volumes of telemetry, it may be impractical to collect all events, leading to the use of techniques like sampling and filtering, which can reduce the accuracy of metrics.

* **[Custom metrics (preview)](../essentials/metrics-custom-overview.md):** Custom metrics in Application Insights allow you to define and track specific measurements that are unique to your application. These metrics can be created by instrumenting your code to send custom telemetry data to Application Insights. Custom metrics provide the flexibility to monitor any aspect of your application that is not covered by standard metrics, enabling you to gain deeper insights into your application's behavior and performance.

> [!NOTE]
> Application Insights also provides a feature called [Live Metrics stream](./live-stream.md), which allows for near real-time monitoring of your web applications and doesn't store any telemetry data.

### Feature comparison

| Feature               | Standard metrics                                                                   | Log-based metrics                                                                                 | Custom metrics                                                                                            |
|-----------------------|------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| **Data source**       | Built-in metrics from Application Insights.                                        | Logs generated by applications and services.                                                      | Custom events and metrics defined by developers.                                                          |
| **Granularity**       | Standard granularity suitable for general monitoring.                              | High granularity with detailed event-level data.                                                  | Flexible granularity based on user-defined metrics.                                                       |
| **Accuracy**          | High accuracy as they are preaggregated during collection, unaffected by sampling. | Accuracy can be affected by sampling and filtering, but they offer more dimensions for analytics. | High accuracy, especially when using preaggregated methods like GetMetric.                                |
| **Cost**              | Generally lower cost due to preaggregation, which reduces data volume.             | Potentially higher cost due to the need for query-time aggregation.                               | Costs can vary; non-dimensional metrics are free up to a quota, while multi-dimensional metrics are paid. |
| **Configuration**     | Automatically available with minimal configuration.                                | Requires configuration to collect and store log data.                                             | Requires custom implementation and configuration.                                                         |
| **Query performance** | Minimal performance impact as they are built-in.                                   | May have higher performance impact due to detailed data collection.                               | Varies based on the complexity of custom metrics.                                                         |
| **Storage**           | Stored as metrics in Application Insights.                                         | Stored as logs in Application Insights.                                                           | Stored as custom events and metrics in Application Insights.                                              |
| **Visualization**     | Standard visualizations in Application Insights dashboards.                        | Detailed visualizations with log analytics and custom queries.                                    | Custom visualizations based on user-defined metrics.                                                      |
| **Alerting**          | Supports standard alerting based on predefined metrics.                            | Supports detailed alerting based on log data and custom queries.                                  | Supports custom alerting based on user-defined metrics.                                                   |
| **Service limit**     | Limited to predefined metrics and dimensions.                                      | No predefined limits, but performance can degrade with high data volume.                          | Limited by the quota for free metrics and the cost for additional dimensions.                             |
| **Use cases**         | General performance monitoring and health checks.                                  | Detailed diagnostics, troubleshooting, and in-depth analysis.                                     | Specific business metrics and custom monitoring scenarios.                                                |
| **Examples**          | CPU usage, memory usage, request duration.                                         | Request counts, exception traces, dependency calls.                                               | Business-specific metrics like user sign-ups, transaction counts.                                         |

## Create charts and explore log-based and standard preaggregated metrics

Use [Azure Monitor metrics explorer](../essentials/metrics-getting-started.md) to plot charts from preaggregated and log-based metrics and to author dashboards with charts. After you select the Application Insights resource you want, use the namespace picker to switch between standard and log-based metrics. You can also select a custom metric namespace.

:::image type="content" source="./../essentials/media/metrics-custom-overview/002-metric-namespace.png" lightbox="./../essentials/media/metrics-custom-overview/002-metric-namespace.png" alt-text="Screenshot that shows Metric namespace.":::

## Pricing models for Application Insights metrics

Ingesting metrics into Application Insights, whether log-based or preaggregated, generates costs based on the size of the ingested data. For more information, see [Azure Monitor Logs pricing details](../logs/cost-logs.md#application-insights-billing). Your custom metrics, including all its dimensions, are always stored in the Application Insights log store. Also, a preaggregated version of your custom metrics with no dimensions is forwarded to the metrics store by default.

Selecting the [Enable alerting on custom metric dimensions](./../essentials/metrics-custom-overview.md#custom-metrics-dimensions-and-preaggregation) option to store all dimensions of the preaggregated metrics in the metric store can generate *extra costs* based on [custom metrics pricing](https://azure.microsoft.com/pricing/details/monitor/).

## Next steps

* [Metrics - Get - REST API](/rest/api/application-insights/metrics/get)
* [Application Insights API for custom events and metrics](api-custom-events-metrics.md)
* [Near real time alerting](../alerts/alerts-metric-near-real-time.md)
* [GetMetric and TrackValue](./api-custom-events-metrics.md#getmetric)
