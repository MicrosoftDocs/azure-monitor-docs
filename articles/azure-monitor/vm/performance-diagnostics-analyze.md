---
title: Analyze Performance Diagnostics insights and reports
description: Learn how to open and analyze reports created by Azure performance diagnostics.
services: virtual-machines
ms.topic: troubleshooting
ms.date: 05/02/2025
---

#  Analyze Performance Diagnostics insights and reports

**Applies to:** :heavy_check_mark: Windows VMs

[Performance Diagnostics (PerfInsights)](./performance-diagnostics.md) helps identify and troubleshoot performance issues on Azure virtual machines. This article describes how to access insights and reports generated by Performance Diagnostics and how to analyze the data.s



## View insights
Performance Diagnostics insights lists a combination of the insights identified by [continuous and on-demand diagnostics](./performance-diagnostics.md#performance-diagnostics-modes). The **Impact** for each insight indicates an impact level of High, Medium, or Low to indicate the potential for performance issues based on factors such as misconfiguration, known problems, or issues that are reported by other users. You might not yet be experiencing one or more of the listed issues. For example, you might have SQL log files and database files on the same data disk. This condition has a high potential for bottlenecks and other performance issues if the database usage is high. However, you might not notice an issue if the usage is low.

You can view this report from three different locations in the Azure portal, depending on your troubleshooting workflow. You can view the Performance Diagnostics reports from multiple locations in the Azure portal. 

- From the menu for the virtual machine. In the **Help** section of the menu, select **Performance Diagnostics**.

    :::image type="content" source="media/performance-diagnostics-analyze/view-from-performance-diagnostics.png" alt-text="Screenshot of the Performance Diagnostics experience in the Azure portal." lightbox="media/performance-diagnostics-analyze/view-from-performance-diagnostics.png":::

- From the **Overview** page for the virtual machine. Select the **Monitoring** tab and then expand the **Insights** section.

    :::image type="content" source="media/performance-diagnostics-analyze/view-from-overview.png" alt-text="Screenshot of the Overview experience in the Azure portal." lightbox="media/performance-diagnostics-analyze/view-from-overview.png":::

- From VM insights. Select **Virtual machines** from the **Insights** section of the **Monitor** menu and select the VM that you want to run diagnostics on. Select **Insights** and then the **Performance** tab.

    :::image type="content" source="media/performance-diagnostics-analyze/view-from-insights.png" alt-text="Screenshot of the Insights experience in the Azure portal." lightbox="media/performance-diagnostics-analyze/view-from-insights.png":::

---

Each of these methods displays the same data, although the **Performance Diagnostics** option provides the following additional features:

- Displays all insights in the selected time range. The other methods are limited to 300 rows.
- Ability to group insights by category, insight, or recommendation.

:::image type="content" source="media/performance-diagnostics-analyze/insights-list-grouping.png" alt-text="Screenshot of the Insights tab on the Performance Diagnostics screen that shows results grouped by insight." lightbox="media/performance-diagnostics-analyze/insights-list-grouping.png":::

Click on the name of an insight to open the **Performance diagnostics insights details** context menu, which shows additional information, such as recommendations about what to do and links to relevant documentation. For an on-demand insight, you can also view or download the Performance Diagnostics report in the list by selecting **View all insights** or **Download report**, respectively.

:::image type="content" source="media/performance-diagnostics-analyze/performance-diagnostics-details.png" alt-text="Screenshot of the details screen on the Performance Diagnostics experience." lightbox="media/performance-diagnostics-analyze/performance-diagnostics-details.png" :::



## View reports

The **Performance Diagnostics reports** tab is available only from the [Performance diagnostics](./performance-diagnostics-run.md#install-performance-diagnostics-on-a-vm) option for the VM. It lists all the [on-demand diagnostics](./performance-diagnostics.md#performance-diagnostics-modes) reports that were run. The list indicates the type of analysis that was run, insights that were found, and their impact levels.

:::image type="content" source="media/performance-diagnostics-analyze/select-report.png" alt-text="Screenshot of selecting a diagnostics report from the Performance Diagnostics screen." lightbox="media/performance-diagnostics-analyze/select-report.png":::

Select a row to view more details.

:::image type="content" source="media/performance-diagnostics-analyze/performance-diagnostics-report-overview.png" alt-text="Screenshot of Performance Diagnostics report overview screen." lightbox="media/performance-diagnostics-analyze/performance-diagnostics-report-overview.png":::

Select the **Download report** button to download an HTML report that contains richer diagnostics information, such as storage and network configuration, performance counters, traces, list of processes, and logs. The content depends on the selected analysis. For advanced troubleshooting, the report might contain additional information and interactive charts that are related to high CPU usage, high disk usage, and processes that consume excessive memory.


> [!NOTE]
> You can download Performance Diagnostics reports from the **Performance Diagnostics** screen within 30 days after you generate them. After 30 days, you might receive an error message. In this case, go to the storage account and download the report from the binary large object (BLOB) container named `azdiagextnresults`. 

## Review the diagnostics report

### [Windows](#tab/windows)

The **PerformanceDiagnostics\_yyyy-MM-dd\_hh-mm-ss-fff.zip** file contains the HTML report that details the findings of PerfInsights. To review the report, expand the **PerformanceDiagnostics\_yyyy-MM-dd\_hh-mm-ss-fff.zip** file, and then open **PerfInsights Report.html**.

### Findings tab

:::image type="content" source="media/performance-diagnostics-analyze/overview-findings-tab.png" lightbox="media/performance-diagnostics-analyze/overview-findings-tab.png" alt-text="Screenshot of Findings tab under Overview tab of the PerfInsights Report.":::

:::image type="content" source="media/performance-diagnostics-analyze/storage-findings-tab.png" lightbox="media/performance-diagnostics-analyze/storage-findings-tab.png" alt-text="Screenshot of Findings tab under Storage tab of the PerfInsights Report.":::

Each finding is assigned one of the following categories:

| Category | Description |
|:---|:---|
| High | Known issues that might cause performance issues. |
| Medium | Non-optimal configurations that do not necessarily cause performance issues. |
| Low | Informative statements only.  |


### Storage tab
The **Disk Map** and **Volume Map** sections describe how logical volumes and physical disks are related to each other.

In the physical disk perspective (Disk Map), the table shows all logical volumes that are running on the disk. In the following example, **PhysicalDrive2** runs two logical volumes created on multiple partitions (J and H):

:::image type="content" source="media/performance-diagnostics-analyze/disk-map.png" lightbox="media/performance-diagnostics-analyze/disk-map.png" alt-text="Screenshot of disk map section under Findings tab of the PerfInsights Report.":::

In the volume perspective (Volume Map), the tables show all the physical disks under each logical volume. Notice that for RAID/Dynamic disks, you might run a logical volume on multiple physical disks. In the following example, *C:\\mount* is a mount point configured as *SpannedDisk* on physical disks 2 and 3:

:::image type="content" source="media/performance-diagnostics-analyze/volume-map.png" lightbox="media/performance-diagnostics-analyze/volume-map.png" alt-text="Screenshot of volume map section under Findings tab of the PerfInsights Report.":::

### SQL tab

The report will include a **SQL** tab if the target VM hosts any SQL Server instances.

:::image type="content" source="media/performance-diagnostics-analyze/sql-tab.png" lightbox="media/performance-diagnostics-analyze/sql-tab.png" alt-text="Screenshot of SQL tab and the sub-tabs under it.":::

The **Findings** tab contains a list of all the SQL related performance issues found, along with the recommendations. In the following example, **PhysicalDrive0** (running the C drive) is displayed. This is because both the **modeldev** and **modellog** files are located on the C drive, and they are of different types (such as data file and transaction log, respectively).

:::image type="content" source="media/performance-diagnostics-analyze/physical-drive-0.png" lightbox="media/performance-diagnostics-analyze/physical-drive-0.png" alt-text="Screenshot of modeldev and modellog files information.":::

The tabs for specific instances of SQL Server contain a general section that displays basic information about the selected instance. The tabs also contain more sections for advanced information, including settings, configurations, and user options.

### Diagnostic tab

The **Diagnostic** tab contains information about top CPU, disk, and memory consumers on the computer during the Performance Diagnostics run. It also includes information about critical patches that the system might be missing, the task list, and important system events.

### [Linux](#tab/linux)

Within the **PerformanceDiagnostics\_yyyy-MM-dd\_hh-mm-ss-fff.tar.gz** file, you can find an HTML report that details the findings of PerfInsights. To review the report, expand the **PerformanceDiagnostics\_yyyy-MM-dd\_hh-mm-ss-fff.tar.gz** file, and then open the **PerfInsights Report.html** file.

### Overview tab

The **Overview** tab provides basic run details and virtual machine information. The **Findings** tab displays a summary of the recommendations from all the different sections of the PerfInsights report.

:::image type="content" source="media/performance-diagnostics-analyze/linux-overview.png" alt-text="Screenshot of the Overview tab of the PerfInsights Report.":::  

:::image type="content" source="media/performance-diagnostics-analyze/linux-findings-tab.png" alt-text="Screenshot of the Findings tab of the PerfInsights Report.":::

> [!NOTE]
> Findings categorized as high are known issues that might cause performance issues. Findings categorized as medium represent non-optimal configurations that do not necessarily cause performance issues. Findings categorized as low are informative statements only.

Review the recommendations and links for all high and medium findings. Learn about how they can affect performance, and also about best practices for performance-optimized configurations.

### CPU tab

**CPU** tab provides information about system-wide CPU consumption during the PerfInsights run. Information about high CPU usage periods and top long running CPU consumers will be helpful to troubleshoot high CPU-related issues.

:::image type="content" source="media/performance-diagnostics-analyze/linux-cpu-tab.png" lightbox="media/performance-diagnostics-analyze/linux-cpu-tab.png" alt-text="Screenshot of PerfInsights Report CPU tab.":::

### GPU tab

**GPU** tab provides information about findings that will be helpful in troubleshooting GPU-related issues.

:::image type="content" source="media/performance-diagnostics-analyze/linux-gpu-tab.png" lightbox="media/performance-diagnostics-analyze/linux-gpu-tab.png" alt-text="Screenshot of PerfInsights Report GPU tab.":::

### Network tab

**Network** tab provides information about network configuration and status. Information about network-related findings, including InfiniBand issues in the HPC scenario, can be found here.

:::image type="content" source="media/performance-diagnostics-analyze/linux-network-tab.png" lightbox="media/performance-diagnostics-analyze/linux-network-tab.png" alt-text="Screenshot of Network tab.":::

### Storage tab

The **Findings** section displays various findings and recommendations related to storage.

The **Block Devices** and other related sections such as **Partitions**, **LVM**, and **MDADM** tabs describe how block devices are configured and related to each other.

:::image type="content" source="media/performance-diagnostics-analyze/linux-storage-tab.png" lightbox="media/performance-diagnostics-analyze/linux-storage-tab.png" alt-text="Screenshot of Storage tab.":::

:::image type="content" source="media/performance-diagnostics-analyze/linux-mdadm-tab.png" lightbox="media/performance-diagnostics-analyze/linux-mdadm-tab.png" alt-text="Screenshot of MDADM tab.":::

### Linux tab

The **Linux** tab contains information on the hardware and the operating system running in your VM. Details include a list of running processes and information about Guest Agent, PCI, CPU, GPU, Drivers, and LIS drivers.

:::image type="content" source="media/performance-diagnostics-analyze/linux-tab.png" lightbox="media/performance-diagnostics-analyze/linux-tab.png" alt-text="Screenshot of the Linux tab and the details.":::

Or on a GPU-enabled VM:

:::image type="content" source="media/performance-diagnostics-analyze/linux-linux-gpu-tab.png" lightbox="media/performance-diagnostics-analyze/linux-linux-gpu-tab.png" alt-text="Screenshot of GPU tab under Linux tab and the details.":::


---

## References to the external tools used

| Tool | Description |
|:---|:---|
| Diskspd | Diskspd is a storage load generator and performance test tool from Microsoft. For more information, see [Diskspd](https://github.com/Microsoft/diskspd). |
| Xperf | Xperf is a command-line tool to capture traces from the Windows Performance Toolkit. For more information, see [Windows Performance Toolkit â€“ Xperf](/archive/blogs/ntdebugging/windows-performance-toolkit-xperf). |




## Next steps

You can upload diagnostics logs and reports to Microsoft Support for further review. Support might request that you transmit the output that is generated by PerfInsights to assist with the troubleshooting process.

[!INCLUDE [Azure Help Support](includes/azure-help-support.md)]


