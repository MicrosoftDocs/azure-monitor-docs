---
title: Troubleshoot Linux virtual machine performance issues with Performance Diagnostics (PerfInsights)
description: Learns how to use PerfInsights to troubleshoot Linux VM performance problems.
services: virtual-machines
documentationcenter: ''
author: anandhms
manager: dcscontentpm
tags: ''
ms.custom: sap:VM Performance, linux-related-content
ms.service: azure-virtual-machines
ms.collection: linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.topic: troubleshooting
ms.date: 06/10/2025
ms.author: jarrettr
---
# Troubleshoot Linux virtual machine performance issues with Performance Diagnostics (PerfInsights)

**Applies to:** :heavy_check_mark: Linux VMs


## Supported troubleshooting scenarios

You can use Performance Diagnostics to troubleshoot various scenarios. The following sections describe common scenarios for using Continuous and On-Demand Performance Diagnostics to identify and troubleshoot performance issues. For a comparison of Continuous and On-Demand Performance Diagnostics, see [Performance Diagnostics insights and reports](../windows/performance-diagnostics.md).




## Run the PerfInsights Linux on your VM

### What do I have to know before I run the tool

#### Tool requirements

- This tool must be run on the VM that has the performance issue.


- The following distributions are currently supported:



>[!Note]
>[`*`] Please refer to [Known issues](#known-issues) section

>[!Note]
>[`*`] The HPC scenario relies on the [HPCDiag](https://aka.ms/hpcdiag) tool, so check its support matrix for supported VM sizes and OSes. In particular, NDv4 size VMs aren't yet supported and reports for those VMs may show extraneous findings.

### Known issues

- RHEL 8 doesn't have Python installed by default because both Python 2 and Python 3.6 are available. To install Python 3.6, run the `yum install python3` command.

- PCI devices information is not collected on Debian based distributions.

- LVM information is partially collected on some distributions.


## Next steps

You can upload diagnostics logs and reports to Microsoft Support for further review. When you work with the Microsoft Support staff, they might request that you transmit the output that is generated by PerfInsights to assist with the troubleshooting process.

The following screenshot shows a message similar to what you might receive:

:::image type="content" source="media/how-to-use-perfinsights-linux/support-email.png" alt-text="Screenshot of sample message from Microsoft Supportã€‚":::

Follow the instructions in the message to access the file transfer workspace. For additional security, you have to change your password on first use.

After you sign in, you will find a dialog box to upload the **PerformanceDiagnostics\_yyyy-MM-dd\_hh-mm-ss-fff.tar.gz** file that was collected by PerfInsights.

[!INCLUDE [Azure Help Support](includes/azure-help-support.md)]
